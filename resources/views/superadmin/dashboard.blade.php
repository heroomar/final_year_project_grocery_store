@extends('layouts.app')

@section('page-title', __('Dashboard'))

@section('action-button')
@section('breadcrumb')
@endsection

@section('content')
    @if(auth()->user()->role == 3)
    <center><h3>No Data to Display</h3></center>
    @else
    <div class="row">
        <div class="col-sm-12">
            <div class="row superadmin-wrp">
                <div class="col-xxl-6">
                    <div class="row box-wrp">
                        <div class="col-md-6 col-12">
                            <div class="yellow-box details-box">
                                <div class="stats-wrapper d-flex align-items-center h-100">
                                    <div class="card-text">
                                        <h2 class="h6 mb-2">{{ __('Total Users') }}</h2>
                                        <h3 class="mb-0">{{ $user->total_user ?? 0 }}</h3>
                                    </div>
                                    <div class="link-btn">
                                        <a href="#">
                                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <g clip-path="url(#clip0_4066_1923)">
                                            <path d="M17.0511 12.9341H13.7899C12.8974 12.9341 12.1716 13.6599 12.1716 14.5524V17.0534C12.1716 17.9459 12.8974 18.6717 13.7899 18.6717H17.0511C17.9436 18.6717 18.6694 17.9459 18.6694 17.0534V14.5524C18.6694 13.6599 17.9436 12.9341 17.0511 12.9341ZM17.4924 17.0534C17.4924 17.2986 17.2914 17.4948 17.0511 17.4948H13.7899C13.5447 17.4948 13.3486 17.2937 13.3486 17.0534V14.5524C13.3486 14.3072 13.5496 14.111 13.7899 14.111H17.0511C17.2963 14.111 17.4924 14.3121 17.4924 14.5524V17.0534Z" fill="#F4B41A"/>
                                            <path d="M24 8.38801C24 8.28503 23.9755 8.18695 23.9215 8.09868L20.3514 1.8216C20.2485 1.64016 20.0523 1.52246 19.8414 1.52246H4.15366C3.94279 1.52246 3.74663 1.63525 3.64365 1.8216L0.0784634 8.09868C0.0294238 8.18695 0 8.28503 0 8.38801C0 9.79545 0.848386 11.0018 2.05966 11.5364V21.8886C2.05966 22.2123 2.32448 22.4771 2.64814 22.4771H5.89947C5.90437 22.4771 5.90928 22.4771 5.91418 22.4771H10.4749C10.4798 22.4771 10.4847 22.4771 10.4896 22.4771H21.347C21.6706 22.4771 21.9354 22.2123 21.9354 21.8886V11.6099C21.9354 11.5854 21.9354 11.5658 21.9305 11.5462C23.1467 11.0116 24 9.80035 24 8.38801ZM4.49693 2.70432H19.4982L22.2885 7.61318H1.71148L4.49693 2.70432ZM17.0805 8.78523C16.8942 9.84449 15.9673 10.6487 14.8541 10.6487C13.7409 10.6487 12.8141 9.84449 12.6277 8.78523H17.0805ZM11.3772 8.78523C11.1908 9.84449 10.264 10.6487 9.1508 10.6487C8.0376 10.6487 7.11075 9.84449 6.91949 8.78523H11.3772ZM1.21618 8.78523H5.67389C5.48754 9.84449 4.55578 10.6487 3.44258 10.6487C2.32938 10.6536 1.40253 9.84449 1.21618 8.78523ZM9.88639 21.3001H6.50266V14.9495C6.50266 14.4885 6.87536 14.1109 7.34123 14.1109H9.05272C9.51369 14.1109 9.8913 14.4836 9.8913 14.9495V21.3001H9.88639ZM20.7585 21.3001H11.0633V14.9495C11.0633 13.8412 10.161 12.934 9.04781 12.934H7.33633C6.22803 12.934 5.3208 13.8363 5.3208 14.9495V21.3051H3.23662V11.8257C3.30527 11.8306 3.37393 11.8306 3.44258 11.8306C4.62934 11.8306 5.67879 11.2274 6.29669 10.3104C6.91459 11.2274 7.96404 11.8306 9.1508 11.8306C10.3376 11.8306 11.3821 11.2274 12.0049 10.3104C12.6228 11.2274 13.6723 11.8306 14.8541 11.8306C16.0409 11.8306 17.0854 11.2274 17.7033 10.3104C18.3212 11.2274 19.3707 11.8306 20.5574 11.8306C20.6261 11.8306 20.6898 11.8257 20.7585 11.8257V21.3001ZM20.5574 10.6536C19.4442 10.6536 18.5174 9.84939 18.331 8.79014H22.7887C22.5975 9.84449 21.6706 10.6536 20.5574 10.6536Z" fill="#F4B41A"/>
                                            </g>
                                            <defs>
                                            <clipPath id="clip0_4066_1923">
                                            <rect width="24" height="24" fill="white"/>
                                            </clipPath>
                                            </defs>
                                            </svg>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-12">
                            <div class="sky-box details-box">
                                <div class="stats-wrapper d-flex align-items-center h-100">
                                    <div class="card-text">
                                        <h2 class="h6 mb-2">{{ __('Total Orders') }}</h2>
                                        <h3 class="mb-0">{{ $user->total_orders ?? 0 }}</h3>
                                    </div>
                                    <div class="link-btn">
                                        <a href="#">
                                            <svg width="23" height="23" viewBox="0 0 23 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M16.3639 21.1933C16.6966 21.1933 16.9663 20.9237 16.9663 20.591C16.9663 20.2583 16.6966 19.9887 16.3639 19.9887C16.0313 19.9887 15.7616 20.2583 15.7616 20.591C15.7616 20.9237 16.0313 21.1933 16.3639 21.1933ZM16.3639 23.0003C17.6946 23.0003 18.7733 21.9216 18.7733 20.591C18.7733 19.2604 17.6946 18.1816 16.3639 18.1816C15.0333 18.1816 13.9546 19.2604 13.9546 20.591C13.9546 21.9216 15.0333 23.0003 16.3639 23.0003Z" fill="#42BEF7"/>
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M9.13592 21.1933C9.46859 21.1933 9.73825 20.9237 9.73825 20.591C9.73825 20.2583 9.46859 19.9887 9.13592 19.9887C8.80324 19.9887 8.53358 20.2583 8.53358 20.591C8.53358 20.9237 8.80324 21.1933 9.13592 21.1933ZM9.13592 23.0003C10.4665 23.0003 11.5453 21.9216 11.5453 20.591C11.5453 19.2604 10.4665 18.1816 9.13592 18.1816C7.80529 18.1816 6.72656 19.2604 6.72656 20.591C6.72656 21.9216 7.80529 23.0003 9.13592 23.0003Z" fill="#42BEF7"/>
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M0.553696 0.815023C0.830488 0.399837 1.39145 0.287646 1.80664 0.564438L3.21371 1.50248C3.66311 1.80207 3.98036 2.26271 4.10005 2.78937L6.57897 13.6967C6.73479 14.3823 7.3443 14.8688 8.04741 14.8688H17.4524C18.1555 14.8688 18.765 14.3823 18.9208 13.6967L20.8373 5.26398C21.0515 4.32168 20.3352 3.42438 19.3689 3.42438H10.0393C9.54036 3.42438 9.13583 3.01987 9.13583 2.52088C9.13583 2.02189 9.54036 1.61737 10.0393 1.61737H19.3689C21.4948 1.61737 23.0706 3.59134 22.5994 5.66441L20.6829 14.0971C20.34 15.6055 18.9992 16.6758 17.4524 16.6758H8.04741C6.5006 16.6758 5.15968 15.6055 4.81689 14.0971L2.33797 3.18983C2.32087 3.11461 2.27554 3.04881 2.21134 3.006L0.804287 2.06796C0.389095 1.79117 0.276903 1.23021 0.553696 0.815023Z" fill="#42BEF7"/>
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M9.1293 9.18327C9.48197 8.83024 10.054 8.82994 10.407 9.18261L11.4727 10.2472L15.0924 6.62743C15.4453 6.27458 16.0173 6.27458 16.3702 6.62743C16.723 6.98028 16.723 7.55232 16.3702 7.90517L12.1119 12.1635C11.7592 12.5162 11.1874 12.5164 10.8345 12.1638L9.12991 10.461C8.77694 10.1083 8.77663 9.53624 9.1293 9.18327Z" fill="#42BEF7"/>
                                            </svg>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-12">
                            <div class="light-green-box details-box">
                                <div class="stats-wrapper d-flex align-items-center h-100">
                                    <div class="card-text">
                                        <h2 class="h6 mb-2">{{ __('Total Customers') }}</h2>
                                        <h3 class="mb-0">{{ $user['total_plan'] ?? 0 }}</h3>
                                    </div>
                                    <div class="link-btn">
                                        <a href="#">
                                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M3.85103 5.88373H11.8038C12.0038 5.88373 12.1638 5.72373 12.1638 5.52373V2.82191C12.1638 2.62191 12.0038 2.46191 11.8038 2.46191H3.85103C3.65103 2.46191 3.49103 2.62191 3.49103 2.82191V5.5201C3.48739 5.7201 3.65103 5.88373 3.85103 5.88373ZM4.21103 3.18555H11.4438V5.16373H4.21103V3.18555Z" fill="#6FD943"/>
                                            <path d="M6.69461 7.61816H3.12733C2.92733 7.61816 2.76733 7.77816 2.76733 7.97816V11.0618C2.76733 11.2618 2.92733 11.4218 3.12733 11.4218H6.69461C6.89461 11.4218 7.05461 11.2618 7.05461 11.0618V7.97816C7.05461 7.7818 6.89461 7.61816 6.69461 7.61816ZM6.33097 10.7054H3.48733V8.3418H6.33097V10.7054Z" fill="#6FD943"/>
                                            <path d="M7.89087 8.67647C7.89087 8.87647 8.05087 9.03647 8.25087 9.03647H16.5891C16.7891 9.03647 16.9491 8.87647 16.9491 8.67647C16.9491 8.47647 16.7891 8.31647 16.5891 8.31647H8.25087C8.05087 8.31283 7.89087 8.47647 7.89087 8.67647Z" fill="#6FD943"/>
                                            <path d="M8.25087 10.7312H14.3563C14.5563 10.7312 14.7163 10.5712 14.7163 10.3712C14.7163 10.1712 14.5563 10.0112 14.3563 10.0112H8.25087C8.05087 10.0112 7.89087 10.1712 7.89087 10.3712C7.89087 10.5712 8.05087 10.7312 8.25087 10.7312Z" fill="#6FD943"/>
                                            <path d="M14.8836 13.1821H8.25087C8.05087 13.1821 7.89087 13.3421 7.89087 13.5421C7.89087 13.7421 8.05087 13.9021 8.25087 13.9021H14.8836C15.0836 13.9021 15.2436 13.7421 15.2436 13.5421C15.2436 13.3421 15.0836 13.1821 14.8836 13.1821Z" fill="#6FD943"/>
                                            <path d="M8.25087 14.8804C8.05087 14.8804 7.89087 15.0404 7.89087 15.2404C7.89087 15.4404 8.05087 15.6004 8.25087 15.6004H12.3709C12.5709 15.6004 12.7309 15.4404 12.7309 15.2404C12.7309 15.0404 12.5709 14.8804 12.3709 14.8804H8.25087Z" fill="#6FD943"/>
                                            <path d="M13.0836 18.0513H8.25087C8.05087 18.0513 7.89087 18.2113 7.89087 18.4113C7.89087 18.6113 8.05087 18.7713 8.25087 18.7713H13.0836C13.2836 18.7713 13.4436 18.6113 13.4436 18.4113C13.4436 18.2113 13.2836 18.0513 13.0836 18.0513Z" fill="#6FD943"/>
                                            <path d="M11.1272 19.749H8.25087C8.05087 19.749 7.89087 19.909 7.89087 20.109C7.89087 20.309 8.05087 20.469 8.25087 20.469H11.1272C11.3272 20.469 11.4872 20.309 11.4872 20.109C11.4872 19.909 11.3272 19.749 11.1272 19.749Z" fill="#6FD943"/>
                                            <path d="M6.69461 12.4873H3.12733C2.92733 12.4873 2.76733 12.6473 2.76733 12.8473V15.9309C2.76733 16.1309 2.92733 16.2909 3.12733 16.2909H6.69461C6.89461 16.2909 7.05461 16.1309 7.05461 15.9309V12.8473C7.05461 12.6509 6.89461 12.4873 6.69461 12.4873ZM6.33097 15.5746H3.48733V13.2109H6.33097V15.5746Z" fill="#6FD943"/>
                                            <path d="M6.69461 17.3564H3.12733C2.92733 17.3564 2.76733 17.5164 2.76733 17.7164V20.8001C2.76733 21.0001 2.92733 21.1601 3.12733 21.1601H6.69461C6.89461 21.1601 7.05461 21.0001 7.05461 20.8001V17.7164C7.05461 17.5201 6.89461 17.3564 6.69461 17.3564ZM6.33097 20.4437H3.48733V18.0801H6.33097V20.4437Z" fill="#6FD943"/>
                                            <path d="M4.40721 10.0258C4.4763 10.0949 4.56721 10.1312 4.66175 10.1312C4.7563 10.1312 4.85084 10.0949 4.9163 10.0258L5.65084 9.29124C5.79266 9.14942 5.79266 8.92033 5.65084 8.78214C5.50902 8.64033 5.27993 8.64033 5.14175 8.78214L4.66175 9.26214L4.61448 9.21487C4.47266 9.07305 4.24357 9.07305 4.10539 9.21487C3.96357 9.35669 3.96357 9.58578 4.10539 9.72396L4.40721 10.0258Z" fill="#6FD943"/>
                                            <path d="M4.40721 15.0146C4.4763 15.0836 4.56721 15.12 4.66175 15.12C4.7563 15.12 4.85084 15.0836 4.9163 15.0146L5.65084 14.28C5.79266 14.1382 5.79266 13.9091 5.65084 13.7709C5.50902 13.6291 5.27993 13.6291 5.14175 13.7709L4.66175 14.2509L4.61448 14.2036C4.47266 14.0618 4.24357 14.0618 4.10539 14.2036C3.96357 14.3455 3.96357 14.5746 4.10539 14.7127L4.40721 15.0146Z" fill="#6FD943"/>
                                            <path d="M22.6182 6.5165L20.7091 5.72013C20.4727 5.62195 20.2109 5.62195 19.9745 5.7165C19.7382 5.81468 19.5527 5.9965 19.4545 6.23286L18.8909 7.57832L18.6618 8.12741V5.30922C18.6618 5.30195 18.6582 5.29832 18.6582 5.29468C18.6582 5.25832 18.6509 5.22559 18.6364 5.19286C18.6327 5.18195 18.6291 5.17104 18.6255 5.16013C18.6073 5.12377 18.5891 5.09104 18.56 5.06195C18.5564 5.05832 18.5564 5.05468 18.5527 5.05468L13.9709 0.469224C13.9673 0.465588 13.9564 0.461951 13.9527 0.458315C13.9273 0.436497 13.8982 0.414679 13.8691 0.400133C13.8545 0.39286 13.8436 0.389224 13.8291 0.385588C13.8 0.374679 13.7709 0.371042 13.7418 0.367406C13.7345 0.367406 13.7236 0.36377 13.7164 0.36377H2.54182C1.57818 0.36377 0.792725 1.14922 0.792725 2.11286V21.8874C0.792725 22.8547 1.57818 23.6401 2.54545 23.6401H16.9091C17.8764 23.6401 18.6618 22.8547 18.6618 21.8874V18.4838L22.5745 9.12013L23.1382 7.77468C23.3382 7.28377 23.1055 6.72013 22.6182 6.5165ZM20.12 6.51286C20.1455 6.45468 20.1891 6.40741 20.2473 6.38559C20.3055 6.36377 20.3709 6.36013 20.4291 6.38559L22.3382 7.18195C22.4582 7.23286 22.5164 7.37104 22.4655 7.49468L22.0436 8.50922L19.6945 7.52741L20.12 6.51286ZM19.4182 8.19286L20.2582 8.54559L16.2 18.2583L15.36 17.9056L19.4182 8.19286ZM16.2545 19.0656L17.2327 19.4729L15.4073 21.091L15.2764 18.6583L16.2545 19.0656ZM17.7055 18.8874L16.8655 18.5347L20.9236 8.81832L21.7636 9.17104L17.7055 18.8874ZM17.4291 4.95286H14.6145C14.32 4.95286 14.08 4.71286 14.08 4.41831V1.5965L17.4291 4.95286ZM16.9091 22.9129H2.54182C1.97454 22.9129 1.51272 22.451 1.51272 21.8838V2.11286C1.51272 1.54922 1.97454 1.08741 2.54182 1.08741H13.3527V4.41831C13.3527 5.11286 13.9164 5.6765 14.6109 5.6765H17.9345V9.86195L14.5527 17.9638C14.5491 17.9674 14.5527 17.9747 14.5491 17.9783C14.5345 18.0147 14.5273 18.051 14.5273 18.091V18.1092V18.1238L14.7309 21.8801C14.7382 22.0183 14.8255 22.142 14.9527 22.1929C14.9964 22.211 15.0436 22.222 15.0909 22.222C15.1782 22.222 15.2618 22.1892 15.3309 22.131L17.9418 19.8147V21.8874C17.9382 22.4547 17.4764 22.9129 16.9091 22.9129Z" fill="#6FD943"/>
                                            </svg>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-6 col-12">
                            <div class="grey-box details-box">
                                <div class="stats-wrapper d-flex align-items-center h-100">
                                    <div class="card-text">
                                        <h2 class="h6 mb-2">{{ __('Total Sales') }}</h2>
                                        <h3 class="mb-0 h2">Rs. {{ $user['sales'] ?? 0  }}</h3>
                                    </div>
                                    <div class="link-btn">
                                        <a href="#">
                                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <g clip-path="url(#clip0_4070_1986)">
                                            <path d="M23.7472 4.89356L19.0599 0.205969C18.928 0.0740625 18.7492 0 18.5627 0H7.78125C6.61814 0 5.67188 0.946266 5.67188 2.10938V11.383C2.51222 11.7339 0.046875 14.4202 0.046875 17.6719C0.046875 21.1612 2.88567 24 6.375 24H21.8438C23.0069 24 23.9531 23.0537 23.9531 21.8906V5.39077C23.9531 5.20425 23.8791 5.02547 23.7472 4.89356ZM19.2656 2.40061L21.5525 4.6875H19.2656V2.40061ZM1.45312 17.6719C1.45312 14.958 3.66108 12.75 6.375 12.75C9.08892 12.75 11.2969 14.958 11.2969 17.6719C11.2969 20.3858 9.08892 22.5938 6.375 22.5938C3.66108 22.5938 1.45312 20.3858 1.45312 17.6719ZM21.8438 22.5938H10.3476C11.6115 21.5716 12.4752 20.0738 12.6639 18.375H19.9688C20.3571 18.375 20.6719 18.0602 20.6719 17.6719C20.6719 17.2836 20.3571 16.9688 19.9688 16.9688H12.6638C12.5492 15.9366 12.1855 14.9785 11.6341 14.1562H19.9688C20.3571 14.1562 20.6719 13.8414 20.6719 13.4531C20.6719 13.0648 20.3571 12.75 19.9688 12.75H10.3476C9.43256 12.01 8.30803 11.5196 7.07812 11.383V2.10938C7.07812 1.72167 7.39355 1.40625 7.78125 1.40625H17.8594V5.39062C17.8594 5.77894 18.1742 6.09375 18.5625 6.09375H22.5469V21.8906C22.5469 22.2783 22.2315 22.5938 21.8438 22.5938Z" fill="#6F6F6F"/>
                                            <path d="M19.9688 8.53125H9.65625C9.26794 8.53125 8.95312 8.84606 8.95312 9.23438C8.95312 9.62269 9.26794 9.9375 9.65625 9.9375H19.9688C20.3571 9.9375 20.6719 9.62269 20.6719 9.23438C20.6719 8.84606 20.3571 8.53125 19.9688 8.53125Z" fill="#6F6F6F"/>
                                            <path d="M8.25 18.375C8.63831 18.375 8.95312 18.0602 8.95312 17.6719C8.95312 17.2836 8.63831 16.9688 8.25 16.9688H7.07812V14.8594C7.07812 14.4711 6.76331 14.1562 6.375 14.1562C5.98669 14.1562 5.67188 14.4711 5.67188 14.8594V17.6719C5.67188 18.0602 5.98669 18.375 6.375 18.375H8.25Z" fill="#6F6F6F"/>
                                            </g>
                                            <defs>
                                            <clipPath id="clip0_4070_1986">
                                            <rect width="24" height="24" fill="white"/>
                                            </clipPath>
                                            </defs>
                                            </svg>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </div>
                <div class="col-xxl-6">
                    {{-- orders chart --}}
                    <div class="card h-100 overflow-auto super-admin-card">
                        <div class="card-header">
                            <h4>{{ __('Orders') }}</h5>
                        </div>
                        <div class="card-body">
                            <div id="traffic-chart"></div>
                        </div>
                    </div>
                </div>
                
                
                <div class="col-xxl-12">
                    <div class="card m-0 super-admin-card">
                        <div class="card-header">
                            <h4>{{__('Top Customers')}}</h5>
                        </div>
                        <div class="card-body">
                            <div class="customers-wrp row">
                                @foreach ($topAdmins as $user)
                                    <div class="col-xxl-3 col-xl-4">
                                        <div class="super-admin-card d-flex gap-3 p-3 rounded-1">
                                            <img src="{{ !empty($user->profile_image) ? asset($user->profile_image) : asset('avatar.png') }}"
                                                class=" rounded-circle-avatar" width="60px" height="60px">
                                            <div>
                                                <h5 class="text-success f-16 f-w-600 mb-2">{{ $user->name }}</h5>
                                                <p class="f-12 user-mail">{{ $user->email }}</p>
                                                
                                            </div>
                                        </div>
                                    </div>
                                @endforeach
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    @endif
@endsection

@push('custom-script')
<script>
    (function() {
        var options = {
            chart: {
                height: 200,
                type: 'area',
                toolbar: {
                    show: false,
                },
            },
            dataLabels: {
                enabled: false
            },
            stroke: {
                width: 2,
                curve: 'smooth'
            },
            series: [{
                name: 'order',
                data: {!! json_encode($chartData) !!}
            }],
            xaxis: {
                categories: {!! json_encode($chartData) !!},
                title: {
                        text: '{{ __("Days") }}'
                    }
            },
            colors: ['#75DA48', '#F4B41A'],

            grid: {
                strokeDashArray: 4,
            },
            legend: {
                show: false,
            },
            yaxis: {
                tickAmount: 3,
                title: {
                    text: '{{ __("Amount") }}'},
            }
        };
        var chart = new ApexCharts(document.querySelector("#traffic-chart"), options);
        chart.render();
    })();

</script>
@endpush


